<?xml version="1.0" encoding="utf-8"?>
<matrix-project>
  <executionStrategy class="hudson.matrix.DefaultMatrixExecutionStrategyImpl">
    <runSequentially>false</runSequentially>
  </executionStrategy>
  <combinationFilter/>
  <axes/>
  <actions/>
  <description>&lt;!-- Managed by Jenkins Job Builder --&gt;</description>
  <keepDependencies>false</keepDependencies>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <concurrentBuild>false</concurrentBuild>
  <customWorkspace>/butler/$os-$arch/src/github.com/itchio/butler</customWorkspace>
  <childCustomWorkspace>.</childCustomWorkspace>
  <canRoam>true</canRoam>
  <properties/>
  <scm class="hudson.plugins.git.GitSCM">
    <configVersion>2</configVersion>
    <userRemoteConfigs>
      <hudson.plugins.git.UserRemoteConfig>
        <name>origin</name>
        <refspec>refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*</refspec>
        <url>git@github.com:$itchio/butler.git</url>
        <credentialsId>f5387502-f743-45da-b8d7-1a8bf7d2a54e</credentialsId>
      </hudson.plugins.git.UserRemoteConfig>
    </userRemoteConfigs>
    <branches>
      <hudson.plugins.git.BranchSpec>
        <name>**</name>
      </hudson.plugins.git.BranchSpec>
    </branches>
    <excludedUsers/>
    <buildChooser class="hudson.plugins.git.util.DefaultBuildChooser"/>
    <disableSubmodules>false</disableSubmodules>
    <recursiveSubmodules>false</recursiveSubmodules>
    <doGenerateSubmoduleConfigurations>false</doGenerateSubmoduleConfigurations>
    <authorOrCommitter>false</authorOrCommitter>
    <wipeOutWorkspace>true</wipeOutWorkspace>
    <pruneBranches>false</pruneBranches>
    <remotePoll>false</remotePoll>
    <gitTool>Default</gitTool>
    <submoduleCfg class="list"/>
    <relativeTargetDir/>
    <reference/>
    <gitConfigName/>
    <gitConfigEmail/>
    <skipTag>false</skipTag>
    <scmName/>
    <useShallowClone>false</useShallowClone>
    <ignoreNotifyCommit>false</ignoreNotifyCommit>
    <extensions>
      <hudson.plugins.git.extensions.impl.WipeWorkspace/>
    </extensions>
  </scm>
  <triggers class="vector">
    <com.cloudbees.jenkins.GitHubPushTrigger>
      <spec/>
    </com.cloudbees.jenkins.GitHubPushTrigger>
  </triggers>
  <builders>
    <EnvInjectBuilder>
      <info>
        <propertiesContent>GOPATH=$WORKSPACE/../../../..
GOARCH=$arch
BUTLER_LDFLAGS=-X main.version=travis-head
CGO_ENABLED=1
CC_FOR_TARGET=gcc
CXX_FOR_TARGET=g++
</propertiesContent>
      </info>
    </EnvInjectBuilder>
    <org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
      <condition class="org.jenkins_ci.plugins.run_condition.core.ExpressionCondition">
        <expression>windows-386</expression>
        <label>$os-$arch</label>
      </condition>
      <runner class="org.jenkins_ci.plugins.run_condition.BuildStepRunner$Fail"/>
      <buildStep class="EnvInjectBuilder">
        <info>
          <propertiesContent>Path=$Path;C:\msys64\mingw32\bin</propertiesContent>
        </info>
      </buildStep>
    </org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
    <org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
      <condition class="org.jenkins_ci.plugins.run_condition.core.ExpressionCondition">
        <expression>windows-amd64</expression>
        <label>$os-$arch</label>
      </condition>
      <runner class="org.jenkins_ci.plugins.run_condition.BuildStepRunner$Fail"/>
      <buildStep class="EnvInjectBuilder">
        <info>
          <propertiesContent>Path=$Path;C:\msys64\mingw64\bin</propertiesContent>
        </info>
      </buildStep>
    </org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
    <org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
      <condition class="org.jenkins_ci.plugins.run_condition.core.ExpressionCondition">
        <expression>linux</expression>
        <label>$os</label>
      </condition>
      <runner class="INFO:jenkins_jobs.builder:Cache saved
org.jenkins_ci.plugins.run_condition.BuildStepRunner$Fail"/>
      <buildStep class="EnvInjectBuilder">
        <info>
          <propertiesContent>PATH=PATH:/usr/local/go/bin</propertiesContent>
        </info>
      </buildStep>
    </org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
    <org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
      <condition class="org.jenkins_ci.plugins.run_condition.core.ExpressionCondition">
        <expression>(linux|osx)</expression>
        <label>$os</label>
      </condition>
      <runner class="org.jenkins_ci.plugins.run_condition.BuildStepRunner$Fail"/>
      <buildStep class="hudson.tasks.Shell">
        <command>go get -d -v ./... &amp;&amp; go build -v -x -ldflags "$BUTLER_LDFLAGS" ./cmd/butler &amp;&amp; file butler.exe &amp;&amp; butler -V &amp;&amp; 7za a butler.7z butler.exe </command>
      </buildStep>
    </org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
    <org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
      <condition class="org.jenkins_ci.plugins.run_condition.core.ExpressionCondition">
        <expression>windows</expression>
        <label>$os</label>
      </condition>
      <runner class="org.jenkins_ci.plugins.run_condition.BuildStepRunner$Fail"/>
      <buildStep class="hudson.tasks.BatchFile">
        <command>go get -d -v ./... &amp;&amp; go build -v -x -ldflags "%BUTLER_LDFLAGS%" ./cmd/butler &amp;&amp; file butler.exe &amp;&amp; butler -V &amp;&amp; 7za a butler.7z butler.exe </command>
      </buildStep>
    </org.jenkinsci.plugins.conditionalbuildstep.singlestep.SingleConditionalBuilder>
  </builders>
  <publishers/>
  <buildWrappers/>
</matrix-project>
